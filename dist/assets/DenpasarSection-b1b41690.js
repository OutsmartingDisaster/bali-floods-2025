import{u as e,a,j as s,S as t}from"./index-90b88281.js";import{r}from"./mapbox-7de284f4.js";import{I as i}from"./InteractiveMap-1cbff903.js";const l=()=>{const[l,d]=r.useState(null),[o,n]=r.useState(null),c=r.useRef(),{t:m}=e(),p=r.useMemo(()=>window.innerWidth<768||/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),[]),b=(e,a)=>p?[e,a]:[e+.001,a],x={0:{center:b(115.212136,-8.644669),zoom:p?15:18.8,pitch:p?0:60,bearing:p?0:-30,layers:{floodPoints:!1,floodImpact:!0,rivers:!0,adminBoundaries:!1,riverBuffer:!1,buildings:!1,buildings3D:!1,terrain:!1,hillshade:!1},layerStyles:{floodImpact:{color:"#CC9900",opacity:.6},rivers:{color:"#1d4ed8",width:12,opacity:.9},buildings:{color:"#d1d5db",opacity:.8,outlineColor:"#9ca3af"},buildings3D:{color:"#e5e7eb",opacity:.9},terrain:{exaggeration:2},hillshade:{exaggeration:.8}},marker:{coordinates:[115.212136,-8.644669],title:"Kampung Jawa",description:"Flooded houses below bridge level"},interactive:!1,mapStyle:p?"mapbox://styles/mapbox/light-v11":"mapbox://styles/mapbox/satellite-streets-v12"},1:{center:b(115.21242,-8.65669),zoom:p?14.5:18.2,pitch:p?0:62.5,bearing:p?0:-24,layers:{floodPoints:!0,floodImpact:!0,rivers:!0,adminBoundaries:!1,buildings:!1,buildings3D:!1},layerStyles:{floodPoints:{color:"#dc2626",size:8,opacity:.8},floodImpact:{color:"#f59e0b",opacity:.7},rivers:{color:"#2563eb",width:12,opacity:.8},buildings:{color:"#d1d5db",opacity:.8,outlineColor:"#9ca3af"},buildings3D:{color:"#e5e7eb",opacity:.9}},marker:{coordinates:[115.21242,-8.65669],title:"Pasar Badung",description:"Traditional market affected by flooding"},interactive:!1,mapStyle:p?"mapbox://styles/mapbox/light-v11":"mapbox://styles/mapbox/satellite-streets-v12"},2:{center:b(115.21319,-8.658618),zoom:p?14.5:18,pitch:p?0:50,bearing:p?0:-20,layers:{floodPoints:!0,floodImpact:!0,rivers:!0,adminBoundaries:!1,buildings:!1,buildings3D:!1},layerStyles:{floodPoints:{color:"#dc2626",size:10,opacity:.9},floodImpact:{color:"#ef4444",opacity:.7},rivers:{color:"#2563eb",width:15,opacity:.8},buildings:{color:"#d1d5db",opacity:.8,outlineColor:"#9ca3af"},buildings3D:{color:"#e5e7eb",opacity:.9}},marker:{coordinates:[115.21319,-8.658618],title:"Jalan Hasanudin",description:"Building collapse - 2 people missing"},interactive:!1,mapStyle:p?"mapbox://styles/mapbox/light-v11":"mapbox://styles/mapbox/satellite-streets-v12"},3:{center:b(115.186899,-8.687336),zoom:p?14:17,pitch:p?0:45,bearing:p?0:-10,layers:{floodPoints:!0,floodImpact:!0,rivers:!0,adminBoundaries:!1,buildings:!1,buildings3D:!1},layerStyles:{floodPoints:{color:"#ea580c",size:8,opacity:.8},floodImpact:{color:"#f59e0b",opacity:.7},rivers:{color:"#2563eb",width:10,opacity:.8},buildings:{color:"#d1d5db",opacity:.8,outlineColor:"#9ca3af"},buildings3D:{color:"#e5e7eb",opacity:.9}},marker:{coordinates:[115.186899,-8.687336],title:"Jalan Soputan",description:"Road flooding - 1m average depth"},interactive:!1,mapStyle:p?"mapbox://styles/mapbox/light-v11":"mapbox://styles/mapbox/satellite-streets-v12"},4:{center:b(115.193307,-8.661699),zoom:p?14.5:17.5,pitch:p?0:45,bearing:p?0:-15,layers:{floodPoints:!0,floodImpact:!0,rivers:!0,adminBoundaries:!1,buildings:!1,buildings3D:!1},layerStyles:{floodPoints:{color:"#dc2626",size:9,opacity:.85},floodImpact:{color:"#f59e0b",opacity:.7},rivers:{color:"#2563eb",width:12,opacity:.8},buildings:{color:"#d1d5db",opacity:.8,outlineColor:"#9ca3af"},buildings3D:{color:"#e5e7eb",opacity:.9}},marker:{coordinates:[115.193307,-8.661699],title:"Pura Demak",description:"30m radius flooding, 1-2m depth"},interactive:!1,mapStyle:"mapbox://styles/mapbox/satellite-streets-v12"},5:{center:[115.2126,-8.6705],zoom:13,pitch:0,bearing:0,layers:{floodPoints:!1,floodHeatmap:!0,floodImpact:!1,rivers:!0,adminBoundaries:!0,buildings:!1},layerStyles:{floodHeatmap:{filter:["==",["get","field_3"],"Denpasar"],weight:1,intensity:["interpolate",["linear"],["zoom"],10,1,13,2,15,3],color:["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",1,"rgb(178,24,43)"],radius:["interpolate",["linear"],["zoom"],10,10,13,25,15,40],opacity:.9},rivers:{color:"#0ea5e9",width:3,opacity:.7},adminBoundaries:{color:"#1f2937",width:2,opacity:.6}},interactive:!0,mapStyle:"mapbox://styles/mapbox/light-v11"}},{currentStep:u}=a({onStepEnter:e=>{const{index:a}=e;let s;if(5===a||6===a||7===a?s=0:8===a||9===a?s=1:10===a||11===a?s=2:12===a||13===a?s=3:14===a||15===a?s=4:(16===a||17===a)&&(s=5),x[s]){const e=x[s];if(c.current&&o){c.current.getMap().flyTo({center:e.center,zoom:e.zoom,pitch:e.pitch||0,bearing:e.bearing||0,duration:2e3,essential:!0})}n(e)}},offset:.5,debug:!1});return r.useEffect(()=>{n(x[0])},[]),s.jsxs("section",{className:"relative",children:[s.jsx("div",{className:"sticky top-0 w-full h-screen",children:s.jsx(i,{ref:c,activeEvent:l,onEventClick:d,mapState:o,currentStep:u})}),s.jsxs("div",{className:"relative",children:[s.jsx(t,{}),s.jsx(t,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[600px] border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:m("denpasar.kampungJawaTitle")}),s.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-3",children:m("denpasar.kampungJawaDesc")}),s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("iframe",{className:"w-64 h-96 rounded-lg shadow-md",src:"https://imagekit.io/player/embed/8qi5mzhkq/dps_01.mp4?updatedAt=1758533264758&thumbnail=https%3A%2F%2Fik.imagekit.io%2F8qi5mzhkq%2Fdps_01.mp4%2Fik-thumbnail.jpg%3FupdatedAt%3D1758533264758&updatedAt=1758533264758",title:"ImageKit video player",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/30 to-transparent pointer-events-none rounded-t-lg"})]})})]})}),s.jsx(t,{}),s.jsx(t,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[600px] border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:m("denpasar.pasarBadungTitle")}),s.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-3",children:m("denpasar.pasarBadungDesc")}),s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("iframe",{className:"w-64 h-96 rounded-lg shadow-md",src:"https://www.youtube.com/embed/fPJkFib6Vms",title:"Pasar Badung Flooding",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/30 to-transparent pointer-events-none rounded-t-lg"})]})}),s.jsxs("div",{className:"bg-yellow-50 p-3 rounded border-l-4 border-yellow-400",children:[s.jsx("h4",{className:"font-semibold text-yellow-900 mb-2 text-sm",children:m("denpasar.impactTitle")}),s.jsx("ul",{className:"text-yellow-800 space-y-1 text-xs",children:m("denpasar.pasarBadungImpact",{returnObjects:!0}).map((e,a)=>s.jsxs("li",{children:["• ",e]},a))})]})]})}),s.jsx(t,{}),s.jsx(t,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[600px] border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:m("denpasar.hasanudinTitle")}),s.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-3",children:m("denpasar.hasanudinDesc")}),s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("iframe",{className:"w-64 h-96 rounded-lg shadow-md",src:"https://www.youtube.com/embed/SdaCeO-9igc",title:"Jalan Hasanudin Building Collapse",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/30 to-transparent pointer-events-none rounded-t-lg"})]})}),s.jsxs("div",{className:"bg-red-50 p-3 rounded border-l-4 border-red-600",children:[s.jsx("h4",{className:"font-semibold text-red-900 mb-2 text-sm",children:m("denpasar.criticalImpactTitle")}),s.jsx("ul",{className:"text-red-800 space-y-1 text-xs",children:m("denpasar.hasanudinImpact",{returnObjects:!0}).map((e,a)=>s.jsxs("li",{children:["• ",e]},a))})]})]})}),s.jsx(t,{}),s.jsx(t,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[600px] border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:m("denpasar.soputanTitle")}),s.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-3",children:m("denpasar.soputanDesc")}),s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("iframe",{className:"w-64 h-96 rounded-lg shadow-md",src:"https://www.youtube.com/embed/A9XEEzweGoA",title:"Jalan Soputan Flooding",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/30 to-transparent pointer-events-none rounded-t-lg"})]})}),s.jsxs("div",{className:"bg-orange-50 p-3 rounded border-l-4 border-orange-500",children:[s.jsx("h4",{className:"font-semibold text-orange-900 mb-2 text-sm",children:m("denpasar.impactTitle")}),s.jsx("ul",{className:"text-orange-800 space-y-1 text-xs",children:m("denpasar.soputanImpact",{returnObjects:!0}).map((e,a)=>s.jsxs("li",{children:["• ",e]},a))})]})]})}),s.jsx(t,{}),s.jsx(t,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[600px] border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:m("denpasar.puraDemakTitle")}),s.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-3",children:m("denpasar.puraDemakDesc")}),s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("iframe",{className:"w-64 h-96 rounded-lg shadow-md",src:"https://www.youtube.com/embed/ESE9xMHfI94",title:"Pura Demak Flooding",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/30 to-transparent pointer-events-none rounded-t-lg"})]})}),s.jsxs("div",{className:"bg-red-50 p-3 rounded border-l-4 border-red-500",children:[s.jsx("h4",{className:"font-semibold text-red-900 mb-2 text-sm",children:m("denpasar.chronicFloodingTitle")}),s.jsx("ul",{className:"text-red-800 space-y-1 text-xs",children:m("denpasar.puraDemakImpact",{returnObjects:!0}).map((e,a)=>s.jsxs("li",{children:["• ",e]},a))})]})]})}),s.jsx(t,{}),s.jsx(t,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[500px] border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:m("denpasar.conclusionTitle")}),s.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-4",children:m("denpasar.conclusionDesc")}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"bg-red-50 p-3 rounded border-l-4 border-red-600",children:[s.jsx("h4",{className:"font-semibold text-red-900 mb-2 text-sm",children:m("denpasar.criticalImpactTitle2")}),s.jsx("ul",{className:"text-red-800 space-y-1 text-xs",children:m("denpasar.criticalImpact",{returnObjects:!0}).map((e,a)=>s.jsxs("li",{children:["• ",e]},a))})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded border-l-4 border-blue-600",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2 text-sm",children:m("denpasar.distributionPatternTitle")}),s.jsx("ul",{className:"text-blue-800 space-y-1 text-xs",children:m("denpasar.distributionPattern",{returnObjects:!0}).map((e,a)=>s.jsxs("li",{children:["• ",e]},a))})]})]})]})}),s.jsx(t,{})]})]})};export{l as default};
