import{u as e,a as t,j as s,S as a}from"./index-90b88281.js";import{r}from"./mapbox-7de284f4.js";import{I as l}from"./InteractiveMap-1cbff903.js";const o=()=>{const{t:o}=e(),[i,d]=r.useState(null),[c,n]=r.useState(null),m=r.useRef(),b=r.useMemo(()=>window.innerWidth<768||/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),[]),p=(e,t)=>b?[e,t]:[e+.001,t],u={0:{center:p(115.138772,-8.653265),zoom:b?14:17,pitch:b?0:45,bearing:b?0:-15,layers:{floodPoints:!0,floodImpact:!0,rivers:!0,adminBoundaries:!1,buildings:!1,buildings3D:!1},layerStyles:{floodPoints:{color:"#ea580c",size:8,opacity:.85},floodImpact:{color:"#f59e0b",opacity:.6},rivers:{color:"#2563eb",width:12,opacity:.8},buildings:{color:"#d1d5db",opacity:.8,outlineColor:"#9ca3af"},buildings3D:{color:"#e5e7eb",opacity:.9}},marker:{coordinates:[115.138772,-8.653265],title:"Shortcut Canggu",description:"Waist-deep flooding"},interactive:!1,mapStyle:b?"mapbox://styles/mapbox/light-v11":"mapbox://styles/mapbox/satellite-streets-v12"},1:{center:p(115.182456,-8.72169),zoom:b?14.5:17.5,pitch:b?0:50,bearing:b?0:-20,layers:{floodPoints:!0,floodImpact:!0,rivers:!1,adminBoundaries:!1,buildings:!1,buildings3D:!1},layerStyles:{floodPoints:{color:"#dc2626",size:10,opacity:.9},floodImpact:{color:"#ef4444",opacity:.7},buildings:{color:"#d1d5db",opacity:.8,outlineColor:"#9ca3af"},buildings3D:{color:"#e5e7eb",opacity:.9}},marker:{coordinates:[115.182456,-8.72169],title:"Underpass Dewa Ruci",description:"Car-level flooding"},interactive:!1,mapStyle:b?"mapbox://styles/mapbox/light-v11":"mapbox://styles/mapbox/satellite-streets-v12"},2:{center:p(115.173691,-8.704711),zoom:b?13.5:16.5,pitch:b?0:40,bearing:b?0:-10,layers:{floodPoints:!0,floodImpact:!0,rivers:!0,adminBoundaries:!1,buildings:!1,buildings3D:!1},layerStyles:{floodPoints:{color:"#f59e0b",size:7,opacity:.8},floodImpact:{color:"#fbbf24",opacity:.6},rivers:{color:"#2563eb",width:10,opacity:.8},buildings:{color:"#d1d5db",opacity:.8,outlineColor:"#9ca3af"},buildings3D:{color:"#e5e7eb",opacity:.9}},marker:{coordinates:[115.173691,-8.704711],title:"Kuta",description:"Thigh-deep flooding along roads"},interactive:!1,mapStyle:"mapbox://styles/mapbox/satellite-streets-v12"}},{currentStep:g}=t({onStepEnter:e=>{const{index:t}=e;let s;if(18===t||19===t||20===t?s=0:21===t||22===t?s=1:(23===t||24===t)&&(s=2),u[s]){const e=u[s];if(m.current&&c){m.current.getMap().flyTo({center:e.center,zoom:e.zoom,pitch:e.pitch||0,bearing:e.bearing||0,duration:2e3,essential:!0})}n(e)}},offset:.5,debug:!1});return r.useEffect(()=>{n(u[0])},[]),s.jsxs("section",{className:"relative min-h-screen",children:[s.jsx("div",{className:"sticky top-0 w-full h-screen",children:s.jsx(l,{ref:m,activeEvent:i,onEventClick:d,mapState:c,currentStep:g})}),s.jsxs("div",{className:"relative",children:[s.jsx(a,{}),s.jsx(a,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[600px] border border-gray-200",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:o("badung.shortcutCangguTitle")}),s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:o("badung.shortcutCangguDesc")}),s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("iframe",{className:"w-64 h-96 rounded-lg shadow-md",src:"https://www.youtube.com/embed/SZZesoNgeeg",title:"Shortcut Canggu Flooding",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/30 to-transparent pointer-events-none rounded-t-lg"})]})}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500",children:[s.jsx("h4",{className:"font-semibold text-orange-900 mb-2 text-sm",children:o("badung.impactTitle")}),s.jsx("ul",{className:"text-orange-800 space-y-1 text-xs",children:o("badung.shortcutCangguImpact",{returnObjects:!0}).map((e,t)=>s.jsxs("li",{children:["• ",e]},t))})]})]})}),s.jsx(a,{}),s.jsx(a,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[600px] border border-gray-200",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:o("badung.underpassTitle")}),s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:o("badung.underpassDesc")}),s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("iframe",{className:"w-64 h-96 rounded-lg shadow-md",src:"https://www.youtube.com/embed/_-OOIe6FpwI",title:"Underpass Dewa Ruci Flooding",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/30 to-transparent pointer-events-none rounded-t-lg"})]})}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-600",children:[s.jsx("h4",{className:"font-semibold text-red-900 mb-2 text-sm",children:o("badung.impactTitle")}),s.jsx("ul",{className:"text-red-800 space-y-1 text-xs",children:o("badung.underpassImpact",{returnObjects:!0}).map((e,t)=>s.jsxs("li",{children:["• ",e]},t))})]})]})}),s.jsx(a,{}),s.jsx(a,{className:"!justify-end md:pr-16 !items-end md:!items-center",children:s.jsxs("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl p-4 md:p-6 w-full max-w-[95%] md:max-w-[600px] border border-gray-200",children:[s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:o("badung.kutaTitle")}),s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:o("badung.kutaDesc")}),s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("iframe",{className:"w-64 h-96 rounded-lg shadow-md",src:"https://www.youtube.com/embed/oHpbf8SjfEY",title:"Kuta Flooding",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/30 to-transparent pointer-events-none rounded-t-lg"})]})}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500",children:[s.jsx("h4",{className:"font-semibold text-yellow-900 mb-2 text-sm",children:o("badung.impactTitle")}),s.jsx("ul",{className:"text-yellow-800 space-y-1 text-xs",children:o("badung.kutaImpact",{returnObjects:!0}).map((e,t)=>s.jsxs("li",{children:["• ",e]},t))})]})]})}),s.jsx(a,{})]})]})};export{o as default};
